---
interface Props {
  spotifyPath: string;
}

const { spotifyPath } = Astro.props;
---

<article class="tile spotify" id="spotify-tile">
  <div class="spotify-head">
    <h2>Now Playing</h2>
    <span class="spotify-state" id="spotify-state">Loading</span>
  </div>
  <div class="spotify-body">
    <a
      class="spotify-art-link"
      data-spotify-link
      href="https://open.spotify.com"
      target="_blank"
      rel="noreferrer"
      aria-label="Open on Spotify"
    >
      <img
        id="spotify-art"
        src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="
        alt="Album art"
        loading="lazy"
        decoding="async"
      />
    </a>
    <div class="spotify-meta" aria-live="polite">
      <a
        class="spotify-title"
        id="spotify-track-title"
        data-spotify-link
        href="https://open.spotify.com"
        target="_blank"
        rel="noreferrer"
      >
        Checking Spotify...
      </a>
      <p class="spotify-artists" id="spotify-artists">Fetching your listening status.</p>
    </div>
  </div>
  <span class="spotify-corner-link" aria-hidden="true">
    <svg viewBox="0 0 24 24" aria-hidden="true">
      <path d={spotifyPath} fill="currentColor"></path>
    </svg>
  </span>
</article>
