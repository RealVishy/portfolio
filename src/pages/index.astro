---
import { Image } from 'astro:assets';
import Layout from '../layouts/Layout.astro';
import CurrentConditionsController from '../components/CurrentConditionsController';
import SpotifyNowPlayingController from '../components/SpotifyNowPlayingController';
import profilePhoto from '../assets/profile-photo.png';
import {
	siAstro,
	siDocker,
	siFedora,
	siFishshell,
	siGithub,
	siKubernetes,
	siPython,
	siSpotify,
	siTrakt,
} from 'simple-icons';

const tools = [
	{ name: 'Docker', icon: siDocker, url: 'https://www.docker.com/' },
	{ name: 'Fedora', icon: siFedora, url: 'https://fedoraproject.org/' },
	{ name: 'Python', icon: siPython, url: 'https://www.python.org/' },
	{ name: 'Astro', icon: siAstro, url: 'https://astro.build/' },
	{ name: 'Fish', icon: siFishshell, url: 'https://fishshell.com/' },
	{ name: 'Kubernetes', icon: siKubernetes, url: 'https://kubernetes.io/' },
];
---

<Layout title="Vishwas Parpattegar | Portfolio">
	<div class="backdrop" aria-hidden="true"></div>
	<main class="page">
			<section class="tile hero">
				<div class="hero-copy">
					<h1>
						Hi, I&apos;m Vishwas Parpattegar,<br />
						Software Engineering Student @ UTS.
					</h1>
				<div class="socials">
					<a class="primary" href="https://realvishy.github.io/resume/resume.pdf" target="_blank" rel="noreferrer">
						<svg viewBox="0 0 24 24" aria-hidden="true">
							<path
								d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8.8L14.2 2H6Zm7 1.7 4.3 4.3H13V3.7Zm-4 7.3h6a1 1 0 1 1 0 2H9a1 1 0 1 1 0-2Zm0 4h6a1 1 0 1 1 0 2H9a1 1 0 1 1 0-2Z"
							></path>
						</svg>
						<span>Resume</span>
					</a>
					<a class="secondary" href="https://github.com/RealVishy" target="_blank" rel="noreferrer">
						<svg viewBox="0 0 24 24" aria-hidden="true">
							<path d={siGithub.path} fill="currentColor"></path>
						</svg>
						<span>GitHub</span>
					</a>
					<a class="secondary" href="https://www.linkedin.com/in/vishwasparpattegar" target="_blank" rel="noreferrer">
						<svg viewBox="0 0 24 24" aria-hidden="true">
							<path
								d="M20.447 20.452H16.89V14.87c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.137 1.445-2.137 2.939v5.68H9.35V9h3.415v1.561h.046c.478-.9 1.638-1.85 3.37-1.85 3.602 0 4.267 2.37 4.267 5.455v6.286ZM5.337 7.433a2.065 2.065 0 1 1 0-4.13 2.065 2.065 0 0 1 0 4.13Zm1.783 13.019H3.555V9H7.12v11.452ZM22.225 0H1.771A1.746 1.746 0 0 0 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451A1.752 1.752 0 0 0 24 22.271V1.729A1.751 1.751 0 0 0 22.222 0h.003Z"
							></path>
						</svg>
						<span>LinkedIn</span>
					</a>
					<a class="secondary" href="https://trakt.tv/users/realdishwash" target="_blank" rel="noreferrer">
						<svg viewBox="0 0 24 24" aria-hidden="true">
							<path d={siTrakt.path} fill="currentColor"></path>
						</svg>
						<span>Trakt</span>
					</a>
				</div>
			</div>
			<div class="avatar">
				<div class="avatar-ring"></div>
				<Image
					class="avatar-photo"
					src={profilePhoto}
					alt="Vishwas Parpattegar"
					loading="eager"
					fetchpriority="high"
				/>
			</div>
		</section>

			<section class="cards">
				<article class="tile about">
					<h2>Engineering Snapshot</h2>
					<div class="about-highlights">
						<span>Platform Reliability</span>
						<span>CI/CD Automation</span>
						<span>OIDC Authentication</span>
					</div>
					<p class="about-detail">
						Internship experience at Ericsson, focused on developer experience, containerisation, and
						CI/CD, with hands-on work improving local-to-production workflows and internal tooling.
					</p>
					<div class="about-stack">
						<div class="about-divider" aria-hidden="true"></div>
						<p class="chip-label">Core stack</p>
						<div class="tool-grid">
							{
								tools.map((tool) => (
									<a class="tool-chip" href={tool.url} target="_blank" rel="noreferrer">
									<svg viewBox="0 0 24 24" aria-hidden="true">
										<path d={tool.icon.path} fill="currentColor" />
									</svg>
									<span>{tool.name}</span>
								</a>
								))
							}
						</div>
					</div>
				</article>

				<article class="tile meta">
					<div class="meta-block">
						<div class="time-head">
							<h2>Current Conditions</h2>
						</div>
					<div class="clock-row">
						<p class="clock" id="sydney-time">--:--:--</p>
						<div class="weather-chip" aria-live="polite">
							<span id="weather-icon" aria-hidden="true">--</span>
							<span id="weather-temp">-- C</span>
						</div>
					</div>
					<div class="weather-metrics" aria-live="polite">
						<span class="metric-chip" id="weather-feels">Feels -- C</span>
						<span class="metric-chip" id="weather-humidity">Humidity --%</span>
						<span class="metric-chip" id="weather-wind">Wind -- km/h</span>
					</div>
					<p class="muted">Sydney • Australia</p>
					<p class="weather-updated muted" id="weather-updated">Updating...</p>
				</div>
			</article>

				<article class="tile now-tile">
					<div class="status-top">
						<h2>What I&apos;m Doing</h2>
						<span class="dot" aria-hidden="true"></span>
				</div>
				<p id="status-message-text" class="status-message">
					Recently wrapped up a software engineering internship at Ericsson and now focusing on open source contributions.
				</p>
			</article>

				<article class="tile spotify" id="spotify-tile">
					<div class="spotify-head">
						<h2>Now Playing</h2>
						<span class="spotify-state" id="spotify-state">Loading</span>
				</div>
				<div class="spotify-body">
					<a
						class="spotify-art-link"
						data-spotify-link
						href="https://open.spotify.com"
						target="_blank"
						rel="noreferrer"
						aria-label="Open on Spotify"
					>
						<img
							id="spotify-art"
							src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="
							alt="Album art"
							loading="lazy"
							decoding="async"
						/>
					</a>
					<div class="spotify-meta" aria-live="polite">
						<a
							class="spotify-title"
							id="spotify-track-title"
							data-spotify-link
							href="https://open.spotify.com"
							target="_blank"
							rel="noreferrer"
						>
							Checking Spotify...
						</a>
						<p class="spotify-artists" id="spotify-artists">Fetching your listening status.</p>
					</div>
				</div>
				<span class="spotify-corner-link" aria-hidden="true">
					<svg viewBox="0 0 24 24" aria-hidden="true">
						<path d={siSpotify.path} fill="currentColor"></path>
					</svg>
				</span>
			</article>

			<article class="tile terminal">
				<div class="terminal-chrome" aria-hidden="true">
					<div class="terminal-lights">
						<span class="terminal-light terminal-light-close"></span>
						<span class="terminal-light terminal-light-minimize"></span>
						<span class="terminal-light terminal-light-zoom"></span>
					</div>
						<p class="terminal-caption">fish — 80x24</p>
					<span class="terminal-spacer"></span>
				</div>
				<div class="terminal-output" aria-live="polite">
					<p class="terminal-line terminal-line-muted">Last login: today on ttys000</p>
					<p class="terminal-line">
						<span class="terminal-user">vishwas@mbp</span>
						<span class="terminal-path">~</span>
							<span class="terminal-symbol">&gt;</span>
						<span id="terminal-command">bun run astro -- check</span>
						<span class="terminal-cursor" aria-hidden="true"></span>
					</p>
				</div>
			</article>

			<article class="tile signature">
				<p>
					&copy; 2026 • Built with <a class="accent" href="https://astro.build/" target="_blank" rel="noreferrer">Astro</a>, <a class="accent" href="https://bun.sh/" target="_blank" rel="noreferrer">Bun</a>, and <a class="accent" href="https://www.cloudflare.com/" target="_blank" rel="noreferrer">Cloudflare</a>.
				</p>
			</article>
		</section>
		<CurrentConditionsController client:load />
		<SpotifyNowPlayingController client:load />
	</main>
</Layout>

	<script is:inline>
		const pageNode = document.querySelector('.page');
		const terminalCommandNode = document.querySelector('#terminal-command');
		const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
		let introTimeoutId = 0;

		if (pageNode && !prefersReducedMotion) {
			const introTiles = pageNode.querySelectorAll('.tile');
			const introDurationMs = 560;
			pageNode.classList.add('is-intro-active');
			let maxIntroDelayMs = 0;

			introTiles.forEach((tile, index) => {
				const delay = index * 60;
				maxIntroDelayMs = Math.max(maxIntroDelayMs, delay);
				tile.style.setProperty('--intro-delay', `${delay}ms`);
			});
			window.clearTimeout(introTimeoutId);
			introTimeoutId = window.setTimeout(() => {
				pageNode.classList.remove('is-intro-active');
			}, maxIntroDelayMs + introDurationMs + 90);
		}

		const terminalCommands = [
			'bun run astro -- check',
			'bun run build',
			'docker compose up -d',
			'git status -sb',
			'gh workflow run deploy.yml',
			'wrangler pages deploy dist',
		];

		if (terminalCommandNode && !prefersReducedMotion) {
			let commandIndex = 0;
			let charIndex = 0;
			let isDeleting = false;

		const runTypewriter = () => {
			const currentCommand = terminalCommands[commandIndex];

			if (isDeleting) {
				charIndex = Math.max(0, charIndex - 1);
			} else {
				charIndex = Math.min(currentCommand.length, charIndex + 1);
			}

			terminalCommandNode.textContent = currentCommand.slice(0, charIndex);

				let delay = isDeleting ? 55 : 95;
				if (!isDeleting && charIndex === currentCommand.length) {
					delay = 1350;
					isDeleting = true;
				} else if (isDeleting && charIndex === 0) {
					delay = 360;
					isDeleting = false;
					commandIndex = (commandIndex + 1) % terminalCommands.length;
				}

			setTimeout(runTypewriter, delay);
		};

			terminalCommandNode.textContent = '';
			setTimeout(runTypewriter, 250);
		} else if (terminalCommandNode) {
			terminalCommandNode.textContent = terminalCommands[0];
		}
	</script>

	<style>
		.page {
			width: min(1120px, 100% - 1.5rem);
			margin: 1.25rem auto 2.5rem;
			position: relative;
			z-index: 2;
		}

		.backdrop {
			position: fixed;
			inset: 0;
			background:
				radial-gradient(circle at 13% 6%, rgb(255 95 86 / 24%), transparent 33%),
				radial-gradient(circle at 84% 20%, rgb(39 201 63 / 15%), transparent 28%),
				linear-gradient(180deg, #0a1017 0%, #070b10 100%);
			z-index: 1;
		}

		.tile {
			background: linear-gradient(180deg, color-mix(in srgb, var(--tile), white 3%), var(--tile-alt));
			border: 1px solid var(--border);
			border-radius: var(--radius-lg);
			padding: 1.15rem;
			position: relative;
			overflow: hidden;
			isolation: isolate;
			transition: border-color 0.2s ease;
		}

		.tile::before {
			content: '';
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			height: 1px;
			background: color-mix(in srgb, var(--border), white 12%);
			opacity: 0.55;
			pointer-events: none;
		}

		.tile:hover {
			border-color: color-mix(in srgb, var(--accent), var(--border) 38%);
		}

		.page.is-intro-active .tile {
			opacity: 0;
			transform: translateY(42px);
			animation: tileRushIn 560ms cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
			animation-delay: var(--intro-delay, 0ms);
		}

		@keyframes tileRushIn {
			0% {
				opacity: 0;
				transform: translateY(42px);
			}
			72% {
				opacity: 1;
			}
			100% {
				opacity: 1;
				transform: translateY(0);
			}
		}

		h1 {
			margin: 0;
			font-size: clamp(1.3rem, 3.2vw, 1.95rem);
			font-weight: 500;
			font-family: var(--font-sans);
			line-height: 1.36;
			max-width: 28ch;
			letter-spacing: -0.01em;
		}

		h1 strong {
			font-weight: 700;
		}

		h2 {
			margin: 0;
			font-size: clamp(1.1rem, 1.3vw, 1.45rem);
			line-height: 1.25;
			font-weight: 600;
			font-family: var(--font-sans);
			letter-spacing: -0.01em;
			color: var(--text);
		}

		.cards h2 {
			font-family: var(--font-mono);
			font-size: clamp(1.02rem, 1.1vw, 1.18rem);
			font-weight: 500;
			letter-spacing: 0.09em;
			text-transform: uppercase;
		}

		p,
		li {
			font-family: var(--font-sans);
			color: var(--text-soft);
			line-height: 1.5;
			font-size: var(--text-base);
			max-width: 52ch;
		}

		a:focus-visible {
			outline: 2px solid color-mix(in srgb, var(--accent), white 25%);
			outline-offset: 2px;
		}

		.hero {
			display: grid;
			grid-template-columns: 1fr auto;
			gap: 1.6rem;
			align-items: center;
		}

		.hero-copy {
			min-width: 0;
		}

		.socials {
			display: flex;
			gap: 0.68rem;
			flex-wrap: wrap;
			margin-top: 1rem;
		}

		.socials a {
			display: inline-flex;
			align-items: center;
			gap: 0.42rem;
			padding: 0.52rem 0.84rem;
			border-radius: var(--radius-sm);
			font-size: 0.8rem;
			font-family: var(--font-mono);
			letter-spacing: 0.03em;
			text-transform: uppercase;
			transition:
				border-color 0.2s ease,
				transform 0.2s ease,
				background-color 0.2s ease;
		}

		.socials a.primary {
			background: color-mix(in srgb, var(--accent), black 20%);
			border: 1px solid color-mix(in srgb, var(--accent), white 18%);
			color: #fff0ef;
		}

		.socials a.secondary {
			border: 1px solid color-mix(in srgb, var(--accent), var(--border) 64%);
			background: var(--tile-strong);
			color: var(--text-soft);
		}

		.socials a:hover {
			transform: translateY(-1px);
		}

		.socials a.primary:hover {
			background: color-mix(in srgb, var(--accent), white 6%);
			border-color: color-mix(in srgb, var(--accent), white 34%);
		}

		.socials a.secondary:hover {
			border-color: color-mix(in srgb, var(--accent-soft), white 30%);
		}

		.socials svg {
			width: 0.95rem;
			height: 0.95rem;
			display: block;
			fill: currentColor;
		}

		.avatar {
			width: 180px;
			height: 180px;
			position: relative;
			display: grid;
			place-items: center;
			flex-shrink: 0;
		}

		.avatar::before {
			content: '';
			position: absolute;
			inset: 8px;
			border-radius: 999px;
			background: var(--avatar-bg);
			z-index: 0;
		}

		.avatar-ring {
			position: absolute;
			inset: 8px;
			border-radius: 999px;
			border: 1px dashed var(--ring);
			z-index: 2;
			pointer-events: none;
		}

		.avatar-photo {
			position: absolute;
			inset: 16px;
			width: calc(100% - 32px);
			height: calc(100% - 32px);
			border-radius: 999px;
			object-fit: cover;
			object-position: center;
			display: block;
			border: 1px solid color-mix(in srgb, var(--border), black 12%);
			box-shadow: 0 0.6rem 1.4rem rgb(0 0 0 / 35%);
			z-index: 1;
		}

		.cards {
			margin-top: 0.95rem;
			display: grid;
			gap: 0.95rem;
			grid-template-columns: minmax(0, 1.22fr) minmax(0, 1fr);
			grid-template-areas:
				'about meta'
				'about spotify'
				'now terminal'
				'signature signature';
			align-items: stretch;
		}

		.cards > .about {
			grid-area: about;
		}

		.cards > .meta {
			grid-area: meta;
		}

		.cards > .now-tile {
			grid-area: now;
		}

		.cards > .spotify {
			grid-area: spotify;
		}

		.cards > .signature {
			grid-area: signature;
		}

		.cards > .terminal {
			grid-area: terminal;
		}

		.cards > .tile {
			height: 100%;
		}

		.about {
			display: flex;
			flex-direction: column;
			gap: 0.52rem;
		}

			.about-highlights {
				margin: 0.08rem 0 0.08rem;
				display: flex;
				flex-wrap: wrap;
				gap: 0.42rem;
			}

		.about-highlights span {
			display: inline-flex;
			align-items: center;
			padding: 0.34rem 0.58rem;
			border-radius: var(--radius-xs);
			border: 1px solid color-mix(in srgb, var(--accent), var(--border) 72%);
			background: color-mix(in srgb, var(--tile-strong), white 3%);
				font-size: var(--label-sm);
				font-family: var(--font-mono);
				letter-spacing: 0.02em;
				color: var(--text-soft);
			}

		.about-detail {
			margin: 0.52rem 0 0;
		}

		.about-stack {
			margin-top: auto;
			padding-top: 0.35rem;
		}

		.about-divider {
			height: 1px;
			background: color-mix(in srgb, var(--border), white 36%);
			box-shadow: 0 0 0.45rem rgb(255 255 255 / 8%);
			margin: 0 0 0.72rem;
		}

		.chip-label {
			margin: 0 0 0.1rem;
			font-family: var(--font-mono);
			text-transform: uppercase;
			letter-spacing: 0.09em;
			font-size: var(--label-xs);
			color: var(--muted);
		}

			.tool-grid {
				margin: 0.04rem 0 0;
				display: grid;
				grid-template-columns: repeat(3, minmax(0, 1fr));
				gap: 0.48rem;
			}

		.tool-chip {
			display: inline-flex;
			align-items: center;
			gap: 0.62rem;
			padding: 0.56rem 0.86rem;
			border-radius: var(--radius-xs);
			border: 1px solid color-mix(in srgb, var(--accent), var(--border) 68%);
				background: var(--tile-strong);
				font-size: 0.92rem;
				font-family: var(--font-mono);
				letter-spacing: 0.02em;
				line-height: 1.2;
				color: var(--text-soft);
			transition:
				border-color 0.2s ease,
				transform 0.2s ease;
		}

		.tool-chip:hover {
			border-color: color-mix(in srgb, var(--accent-soft), white 24%);
			transform: translateY(-1px);
		}

			.tool-chip svg {
				width: 1.32rem;
				height: 1.32rem;
				display: block;
				flex-shrink: 0;
				color: var(--text);
			}

		.meta {
			display: flex;
			flex-direction: column;
			gap: 1rem;
		}

		.meta-block p:last-child {
			margin-bottom: 0;
		}

		.time-head {
			display: flex;
			align-items: center;
			justify-content: flex-start;
		}

		.clock {
			font-size: clamp(1.35rem, 2.8vw, 1.85rem);
			margin: 0;
			line-height: 1.1;
		}

		.clock-row {
			display: grid;
			grid-template-columns: minmax(0, 1fr) auto;
			align-items: center;
			gap: 0.7rem;
			margin: 0.82rem 0 0.3rem;
			width: 100%;
		}

		.weather-chip {
			display: inline-flex;
			flex-direction: column;
			align-items: center;
			justify-content: center;
			gap: 0.3rem;
			padding: 0.64rem 1rem;
			border-radius: var(--radius-md);
			border: 1px solid color-mix(in srgb, var(--accent), var(--border) 66%);
			background: linear-gradient(
				180deg,
				color-mix(in srgb, var(--tile), white 4%),
				color-mix(in srgb, var(--tile-strong), black 4%)
			);
			color: var(--text-soft);
			line-height: 1;
			white-space: nowrap;
			justify-self: end;
			min-width: 5.2rem;
			position: relative;
			overflow: hidden;
		}

		.weather-chip::before {
			content: '';
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			height: 1px;
			background: color-mix(in srgb, var(--border), white 14%);
			opacity: 0.62;
			pointer-events: none;
		}

		#weather-icon {
			display: inline-flex;
			align-items: center;
			justify-content: center;
			width: 1.2rem;
			height: 1.2rem;
		}

		#weather-icon svg {
			width: 1.2rem;
			height: 1.2rem;
			display: block;
			stroke: currentColor;
			fill: none;
			stroke-width: 1.9;
			stroke-linecap: round;
			stroke-linejoin: round;
		}

		#weather-temp {
			font-size: 1.24rem;
			font-family: var(--font-mono);
			letter-spacing: 0.01em;
			font-weight: 500;
			line-height: 1;
		}

		.weather-metrics {
			display: flex;
			flex-wrap: wrap;
			gap: 0.42rem;
			margin: 0 0 0.42rem;
		}

		.metric-chip {
			display: inline-flex;
			align-items: center;
			padding: 0.28rem 0.52rem;
			border-radius: var(--radius-xs);
			border: 1px solid color-mix(in srgb, var(--border), white 8%);
			background: color-mix(in srgb, var(--tile-strong), white 2%);
			font-family: var(--font-mono);
			font-size: var(--label-sm);
			letter-spacing: 0.02em;
			line-height: 1.2;
			color: var(--text-soft);
		}

		.weather-updated {
			margin: 0.15rem 0 0;
			font-family: var(--font-mono);
			font-size: var(--label-sm);
			letter-spacing: 0.02em;
		}

		.now-tile,
		.spotify {
			display: flex;
			flex-direction: column;
			gap: 0.68rem;
		}

		.spotify {
			position: relative;
		}

		.status-top {
			display: flex;
			justify-content: space-between;
			align-items: center;
		}

		.dot {
			width: 0.72rem;
			height: 0.72rem;
			border-radius: 999px;
			background: var(--accent);
			box-shadow:
				0 0 0.25rem rgb(255 95 86 / 55%),
				0 0 0.85rem rgb(255 95 86 / 45%);
			animation: livePulse 2.4s ease-in-out infinite;
		}

		@keyframes livePulse {
			0%,
			100% {
				filter: brightness(0.72);
				box-shadow:
					0 0 0.12rem rgb(255 95 86 / 45%),
					0 0 0.4rem rgb(255 95 86 / 30%);
			}
			50% {
				filter: brightness(1.28);
				box-shadow:
					0 0 0.3rem rgb(255 95 86 / 82%),
					0 0 1rem rgb(255 95 86 / 64%);
			}
		}

		.status-message {
			margin: 0;
			transition: opacity 0.18s ease;
			min-height: calc(1.5em * 2);
		}

		.status-message.is-changing {
			opacity: 0.18;
		}

		.muted {
			color: var(--muted);
		}

		.spotify-head {
			display: flex;
			align-items: center;
			justify-content: space-between;
			gap: 0.72rem;
		}

		.spotify-state {
			font-family: var(--font-mono);
			font-size: var(--label-sm);
			letter-spacing: 0.05em;
			text-transform: uppercase;
			color: var(--muted);
			border: 1px solid var(--border);
			padding: 0.18rem 0.45rem;
			border-radius: 999px;
			background: var(--tile-strong);
		}

		.spotify[data-spotify-state='playing'] .spotify-state {
			color: var(--success);
			border-color: color-mix(in srgb, var(--success), var(--border) 45%);
			box-shadow:
				0 0 0.2rem rgb(39 201 63 / 26%),
				0 0 0.7rem rgb(39 201 63 / 22%);
			animation: liveBadgePulse 2.4s ease-in-out infinite;
		}

		.spotify[data-spotify-state='idle'] .spotify-state {
			color: var(--text-soft);
		}

		.spotify[data-spotify-state='error'] .spotify-state {
			color: var(--accent-soft);
			border-color: color-mix(in srgb, var(--accent-soft), var(--border) 46%);
		}

		@keyframes liveBadgePulse {
			0%,
			100% {
				filter: brightness(0.84);
				box-shadow:
					0 0 0.12rem rgb(39 201 63 / 20%),
					0 0 0.45rem rgb(39 201 63 / 16%);
			}
			50% {
				filter: brightness(1.2);
				box-shadow:
					0 0 0.28rem rgb(39 201 63 / 48%),
					0 0 0.9rem rgb(39 201 63 / 32%);
			}
		}

		.spotify-body {
			display: grid;
			grid-template-columns: 66px minmax(0, 1fr);
			gap: 0.82rem;
			align-items: center;
		}

		.spotify-art-link {
			display: block;
			width: 66px;
			height: 66px;
			border-radius: var(--radius-sm);
			border: 1px solid color-mix(in srgb, var(--accent), var(--border) 68%);
			background: var(--tile-strong);
			overflow: hidden;
		}

		.spotify-art-link:hover {
			border-color: color-mix(in srgb, var(--accent-soft), white 26%);
		}

		#spotify-art {
			display: block;
			width: 100%;
			height: 100%;
			object-fit: cover;
			transform-origin: center;
			transition:
				opacity 0.18s ease,
				transform 0.18s ease;
		}

		#spotify-art.is-swapping {
			opacity: 0.14;
			transform: scale(0.97);
		}

		.spotify-meta {
			min-width: 0;
			transition:
				opacity 0.18s ease,
				transform 0.18s ease;
		}

		.spotify-meta.is-swapping {
			opacity: 0.18;
			transform: translateY(4px);
		}

		.spotify-corner-link {
			position: absolute;
			right: 1.02rem;
			bottom: 0.92rem;
			width: auto;
			height: auto;
			display: inline-flex;
			align-items: center;
			justify-content: center;
			line-height: 0;
			color: #fff;
			opacity: 0.88;
			z-index: 2;
			pointer-events: none;
			transition: none;
		}

		.spotify-corner-link svg {
			width: 1rem !important;
			height: 1rem !important;
			display: block;
			flex-shrink: 0;
		}

		.spotify-title {
			display: block;
			margin: 0;
			font-weight: 600;
			font-size: 0.98rem;
			color: var(--text);
			line-height: 1.28;
			overflow: hidden;
			text-overflow: ellipsis;
			white-space: nowrap;
		}

		.spotify-title:hover {
			color: color-mix(in srgb, var(--accent), var(--text) 64%);
		}

		.spotify-artists {
			margin: 0;
			font-size: var(--text-sm);
			color: var(--muted);
			line-height: 1.35;
			overflow: hidden;
			text-overflow: ellipsis;
			white-space: nowrap;
		}

		.spotify-state.is-state-bump {
			animation: spotifyStateBump 0.24s ease;
		}

		@keyframes spotifyStateBump {
			0% {
				transform: translateY(2px);
				filter: brightness(0.86);
			}
			65% {
				transform: translateY(-1px);
				filter: brightness(1.08);
			}
			100% {
				transform: translateY(0);
				filter: brightness(1);
			}
		}

			.terminal {
				padding: 0;
				overflow: hidden;
				display: flex;
				flex-direction: column;
				background: #11151d;
				height: 100%;
			}

			.terminal::before {
				display: none;
			}

			.terminal:focus-within {
				border-color: color-mix(in srgb, var(--accent), var(--border) 38%);
			}

			.terminal-chrome {
				display: grid;
				grid-template-columns: auto 1fr auto;
				align-items: center;
				gap: 0.6rem;
				padding: 0.44rem 0.62rem;
				background: linear-gradient(180deg, #2a313d 0%, #1c222d 100%);
				border-bottom: 1px solid #3a4352;
			}

			.terminal-lights {
				display: inline-flex;
				gap: 0.34rem;
			}

			.terminal-light {
				width: 0.68rem;
				height: 0.68rem;
				border-radius: 999px;
				border: 1px solid rgb(0 0 0 / 34%);
				box-shadow: inset 0 1px 0 rgb(255 255 255 / 22%);
			}

			.terminal-light-close {
				background: #ff5f57;
			}

			.terminal-light-minimize {
				background: #ffbd2f;
			}

			.terminal-light-zoom {
				background: #28c840;
			}

			.terminal-caption {
				margin: 0;
				text-align: center;
				font-size: var(--label-xs);
				letter-spacing: 0.04em;
				color: var(--text-soft);
				font-family: var(--font-mono);
				opacity: 0.9;
			}

			.terminal-spacer {
				width: 2.2rem;
				display: inline-block;
			}

			.terminal-output {
				margin-top: 0;
				padding: 0.8rem 0.85rem 0.95rem;
				flex: 1;
				background:
					radial-gradient(circle at 90% 100%, rgb(39 201 63 / 6%), transparent 43%),
					radial-gradient(circle at 0 0, rgb(255 95 86 / 6%), transparent 36%),
					#0c1118;
			}

			.terminal-line {
				margin: 0;
				font-size: var(--text-sm);
				line-height: 1.5;
				color: var(--text-soft);
				font-family: var(--font-mono);
				display: flex;
				align-items: baseline;
				flex-wrap: wrap;
				gap: 0.42rem;
			}

			.terminal-line + .terminal-line {
				margin-top: 0.32rem;
			}

			.terminal-line-muted {
				color: var(--muted);
				font-size: var(--text-xs);
				letter-spacing: 0.01em;
			}

			.terminal-user {
				color: #90b4ff;
			}

			.terminal-path {
				color: color-mix(in srgb, var(--success), white 20%);
			}

			.terminal-symbol {
				color: var(--accent-soft);
			}

			#terminal-command {
				display: inline-block;
				color: var(--text);
				white-space: normal;
				overflow-wrap: anywhere;
			}

			.terminal-cursor {
				width: 0.6ch;
				height: 1.15em;
				background: color-mix(in srgb, var(--text), var(--accent-soft) 10%);
				display: inline-block;
				transform: translateY(0.13em);
				animation: terminalCursorBlink 1s step-end infinite;
				will-change: opacity;
			}

			@keyframes terminalCursorBlink {
				0%,
				49% {
					opacity: 1;
			}
			50%,
				100% {
					opacity: 0;
				}
			}

		.signature {
			align-self: start;
			padding-block: 0.9rem;
		}

		.signature p {
			margin: 0;
			font-size: 0.9rem;
			color: var(--muted);
			max-width: none;
		}

		.accent {
			color: var(--accent-soft);
			text-decoration: none;
		}

		.accent:hover {
			color: var(--accent);
			text-decoration: underline;
			text-underline-offset: 0.16rem;
		}

		@media (max-width: 980px) {
			.tool-grid {
				grid-template-columns: repeat(2, minmax(0, 1fr));
			}
		}

		@media (max-width: 860px) {
			.cards {
				grid-template-columns: 1fr;
				grid-template-areas:
					'about'
					'meta'
					'now'
					'spotify'
					'terminal'
					'signature';
			}

			.cards > .tile {
				height: auto;
			}
		}

		@media (max-width: 760px) {
			.hero {
				grid-template-columns: 1fr;
			}

			.avatar {
				width: 140px;
				height: 140px;
				justify-self: center;
				margin-inline: auto;
			}

			.avatar-photo {
				inset: 14px;
				width: calc(100% - 28px);
				height: calc(100% - 28px);
			}
		}

		@media (max-width: 640px) {
			.page {
				width: min(1120px, 100% - 1rem);
				margin-top: 0.8rem;
			}

			.socials {
				display: grid;
				grid-template-columns: repeat(2, minmax(0, 1fr));
				gap: 0.6rem;
			}

			.socials a {
				width: 100%;
				justify-content: center;
				padding: 0.58rem 0.62rem;
			}

			.cards {
				grid-template-columns: 1fr;
			}

			.tool-grid {
				grid-template-columns: repeat(2, minmax(0, 1fr));
			}
		}

		@media (max-width: 380px) {
			.socials {
				grid-template-columns: 1fr;
			}

			.tool-grid {
				grid-template-columns: 1fr;
			}

			.spotify-body {
				grid-template-columns: 56px minmax(0, 1fr);
			}

			.spotify-art-link {
				width: 56px;
				height: 56px;
			}
		}

		@media (prefers-reduced-motion: reduce) {
			.page.is-intro-active .tile {
				animation: none;
				opacity: 1;
				transform: none;
			}

			.tile,
			#spotify-art,
			.spotify-meta,
			.status-message {
				transition: none;
			}

				.dot,
				.terminal-cursor,
				.spotify[data-spotify-state='playing'] .spotify-state,
				.spotify-state.is-state-bump {
					animation: none;
				}
		}
	</style>
